# Microcontroller Lab 1 --- Keypad, Interrupt, and 74HC595

โปรเจกต์นี้เป็นการสร้างระบบกรอกรหัสผ่านแบบ Keypad Matrix 3×4
และควบคุมการแสดงผลด้วย 74HC595 พร้อมสัญญาณแจ้งสถานะผ่าน LED
รวมถึงการใช้งาน External Interrupt สำหรับปุ่ม Clear ตามโจทย์ของ LAB 1

##  ฟีเจอร์ที่ทำในโปรเจกต์

### 1. ระบบ Keypad 3×4

-   รองรับปุ่ม 0--9, OK, Clear
-   ใช้การสแกนแบบ Row/Column จาก MCU
-   ปุ่ม Clear (S4) ใช้ **External Interrupt**
-   ปุ่ม K4, K8, K12, K16 *ไม่นำมาใช้งาน*

### 2. ฟังก์ชันการทำงานของระบบกรอกรหัส

-   ผู้ใช้ต้องกดรหัสนิสิต 13 หลัก
-   เมื่อกดครบต้องกด **OK** เพื่อยืนยัน
-   ระหว่างกรอก → **ไม่มีไฟใดติด**
-   กดรหัสผิด → ต้องกด Clear เพื่อล้างข้อมูลทั้งหมด
-   แสดงสถานะปุ่มใน **Live Expression (Debugger Mode)**

### 3. เงื่อนไขการตรวจรหัส

  สถานการณ์                      ผลลัพธ์
  ------------------------------ ----------------------------------------
  กดครบ 13 หลัก แต่ยังไม่กด OK   ไม่มีไฟติด
  รหัสถูก + กด OK                LED D1 ติด
  รหัสผิดครั้งที่ 1              D2 ติด
  รหัสผิดครั้งที่ 2              D2 + D3 ติด
  รหัสผิดครั้งที่ 3              D2 + D3 + D4 ติด → ระบบล็อก ต้อง Reset
  รหัสถูกหลังเคยผิด              ดับ D2--D4 และให้ D1 ติด

##  การเชื่อมต่อ Hardware

### Keypad

-   ใช้เฉพาะปุ่ม 3×4
-   Clear ใช้ External Interrupt

### LED Output ผ่าน 74HC595

-   ควบคุม LED D1--D4
-   ใช้ 3 GPIO ควบคุม Shift Register
-   74HC595 → MCU

##  การจำลองกรณีไม่ได้ต่อ Hardware

-   ถ้า Keypad ต่อไม่ได้ → กำหนดค่าปุ่มใน Live Expression
-   ถ้า 74HC595 ต่อไม่ได้ → ใช้ GPIO ตรง (ไม่ได้คะแนนเต็ม)
-   ถ้าตรรกะไม่เสร็จ → แสดง Input และการควบคุม LED แทน
-   ถ้าทำไม่ทัน → ส่งแนวคิดและโค้ดให้ TA ตรวจ

##  วิธีส่งงานตามใบงาน

-   ส่งในวัน 30--31 ตุลาคม ตามคาบเรียน
-   ลงคิวใน Google Sheet (เฉพาะผู้ที่ทำเสร็จแล้วเท่านั้น)
-   ส่งล่าช้าต้องมาก่อนเวลาเช้าในวันส่ง
-   ต้องนำบอร์ดจริงมาสาธิต + อธิบายโค้ดให้ TA ฟัง

##  โครงสร้างโปรเจกต์

    Microcontroller_Lab1
     ├── Core/
     ├── Drivers/
     ├── Inc/
     ├── Src/
     ├── .ioc
     ├── README.md
     └── ...

##  เทคโนโลยีที่ใช้

-   STM32 Nucleo
-   GPIO / External Interrupt
-   74HC595 Shift Register
-   Keypad Matrix Scan
-   Live Expression Debugging

